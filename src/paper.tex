\documentclass{article}
\setlength{\parindent}{0pt}
\setlength{\parskip}{1em}
\usepackage{unicode-math}
%\setmainfont{XITS}
\setmathfont{STIX Two Math}

\usepackage{biblatex}
\addbibresource{references.bib}

\usepackage{xcolor}
\usepackage{amsmath}
%\usepackage{amssymb}
\usepackage{listings}

\DeclareMathOperator{\acc}{value}

\usepackage{mathtools}
\usepackage{tikz}
\usetikzlibrary{automata, trees, positioning, arrows, fit, matrix, shapes.geometric, shapes.misc, calc}
\pgfdeclarelayer{background}
\pgfdeclarelayer{foreground}
\pgfsetlayers{background,main,foreground}

\newcommand{\Ex}{\textbf{Npr.:}\ }
\newcommand{\Special}[1]{\textbf{#1}}
\newcommand{\FIRST}{\textsc{first}}
\newcommand{\FOLLOW}{\textsc{follow}}
\newcommand{\EOF}{\textsc{eof}}
\newcommand{\Set}[1]{\mathbf{#1}}
\newcommand{\Symbol}[1]{\textcolor{blue}{#1}}
\newcommand{\Grammar}{G}
\newcommand{\Terminals}{\Set{T}}
\newcommand{\NonTerminals}{\Set{N}}
\newcommand{\Productions}{\Set{P}}
\newcommand{\StartSymbol}{S}
\newcommand{\Empty}{\varnothing}
\newcommand{\Null}{\varepsilon}
\newcommand{\Language}[1]{\mathcal{L}(#1)}
\newcommand{\Automaton}[1]{\mathcal{M}(#1)}
\newcommand{\Powerset}[1]{\mathcal{P}(#1)}
\newcommand{\Str}[1]{\text{\textquotedbl\texttt{#1}\textquotedbl}}
\newcommand{\Char}[1]{\texttt{#1}}
\newcommand{\Arrow}{\Coloneq}
\newcommand{\Derive}{\Rightarrow}
\newcommand{\DeriveStar}{\xRightarrow{\ast}}
\newcommand{\DerivePlus}{\xRightarrow{+}}
\newcommand{\Seq}{\ }
\newcommand{\Union}{\mathrel{|}}
\newcommand{\Kleene}[1]{#1^\ast}
\newcommand{\Rep}[2]{#1^#2}
\newcommand{\Opt}[1]{#1?}
\newcommand{\KleenePlus}[1]{#1^+}


\begin{document}
%\Special{Meta:} Simboli so omejeni na (pod)poglavja.

\section{Gramatike}
Gramatika je tuple $\Grammar = (\NonTerminals, \Terminals, \Productions, \StartSymbol)$, kjer je $\NonTerminals$ končna množica neteminalnih simbolov, $\Terminals$ končna množica terminalnih simbolov, $\Productions$ je končna relacija produkcij $\NonTerminals \times \Kleene{(\NonTerminals \cup \Terminals)}$ in $\StartSymbol \in \NonTerminals$ je začetni simbol.
Tukaj $\Kleene{(\NonTerminals \cup \Terminals)}$ pomeni seznam terminalnih in neterminalnih simbolov (prazen seznam je $\Null$).

\Ex
\begin{align*}
  \Grammar_1 &= (\NonTerminals_1, \Terminals_1, \Productions_1, \StartSymbol_1) \\
  \NonTerminals_1 &= \{\Symbol{L}\}\\
  \Terminals_1 &= \{\Symbol{i}\}\\
  \Productions_1 &= \{ (\Symbol{L}, (\Symbol{i}, \Symbol{L})), (\Symbol{L}, \Null) \}\\
  \StartSymbol_1 &= \Symbol{L}
\end{align*}

Produkcijska pravila pišemo z operatorjem $(\Arrow)$, na levi strani je vedno en neterminalen simbol na desni pa je lahko seznam terminalnih in neterminalnih simbolov.

\Special{Meta:} Simbol na levi strani prve produkcije bo začetni simbol.

\Ex
\begin{equation}
  \tag{$\Grammar_1$}
  \label{g:listi}
  \begin{aligned}
    \Symbol{L} &\Arrow \Symbol{i} \Seq \Symbol{L}\\
    \Symbol{L} &\Arrow \Null
  \end{aligned}
\end{equation}

Produkcijska pravila, ki imajo na levi strani enak neterminalen simbol lahko združimo z unijo.

\Ex
\begin{align*}
  \Symbol{L} &\Arrow \Symbol{i} \Seq \Symbol{L} \Union \Null\\
\end{align*}
Gramatike so sistem prepisovanja.
V seznamu terminalnih in neterminalnih simbolov, lahko neterminalne simbole zamenjamo z eno izmed desnih strani produkcijskega pravila, ki ima ta simbol na levi strani.
Postopek je podoben, kot pri vstavljanju v enačbo, le da lahko imamo več različnih možnosti (več desnih strani).

\Ex
  \begin{align*}
    y &= x + x\\
    x &= 1
  \end{align*}
  Če bi imeli poleg tega enačbo $x = 2$, bi nastal problem ($1 = 2$).

  \begin{equation*}
    y = x + x = 1 + x = 1 + 1
  \end{equation*}

  \begin{equation}
    \tag{$\Grammar_2$}
    \label{g:plusab}
    \begin{aligned}
      \Symbol{E} &\Arrow \Symbol{N} \Seq \Symbol{p} \Seq \Symbol{N}\\
      \Symbol{N} &\Arrow \Symbol{a} \Union \Symbol{b}
    \end{aligned}
  \end{equation}

\Special{Meta:} Vedno bomo najprej zamenjali najbolj levi neterminalen simbol.

Če smo zamenjali samo en neterminalen simbol potem uporabimo operator $(\Derive)$, če smo jih zamenjali več $(\DerivePlus)$, če smo jih zamenjali več ali nobenega pa $(\DeriveStar)$.
  \begin{align*}
    \Symbol{E} &\Derive \Symbol{N} \Seq \Symbol{p} \Seq \Symbol{N} \Derive \Symbol{a} \Seq \Symbol{p} \Seq \Symbol{N} \Derive \Symbol{a} \Seq \Symbol{p} \Seq \Symbol{b} \\
    \Symbol{E} &\DerivePlus \Symbol{N} \Seq \Symbol{p} \Seq \Symbol{N}\\
    \Symbol{N} \Seq \Symbol{p} \Seq \Symbol{N} &\DerivePlus \Symbol{a} \Seq \Symbol{p} \Seq \Symbol{b}\\
    \Symbol{a} \Seq \Symbol{p} \Seq \Symbol{N} &\DerivePlus \Symbol{a} \Seq \Symbol{p} \Seq \Symbol{b}\\
    \Symbol{E} &\DerivePlus \Symbol{a} \Seq \Symbol{p} \Seq \Symbol{b}\\
    \Symbol{E} &\DeriveStar \Symbol{E}\\
    \Symbol{N} \Seq \Symbol{p} \Seq \Symbol{N} &\DerivePlus \Symbol{N} \Seq \Symbol{p} \Seq \Symbol{N}\\
    \Symbol{E} &\DeriveStar \Symbol{a} \Seq \Symbol{p} \Seq \Symbol{b}
  \end{align*}

Stavčne oblike gramatike, so vsi seznami neterminalnih ali terminalnih simbolov $\alpha \in \Kleene{(\NonTerminals \cup \Terminals)}$, kjer $\StartSymbol \DeriveStar \alpha$.
Seznam vseh stavčnih oblik dobimo tako, da gremo sistematično skozi vse možne izpeljave.

\Ex
  \begin{equation*}
    \Symbol{L} \begin{aligned}[t]
      &\Derive \Symbol{i} \Seq \Symbol{L} \begin{aligned}[t]
        &\Derive \Symbol{i} \Seq \Symbol{i} \Seq \Symbol{L} \begin{aligned}[t]
          &\Derive \Symbol{i} \Seq \Symbol{i} \Seq \Symbol{i} \Seq \Symbol{L} \Derive \dots\\
          &\Derive \Symbol{i} \Seq \Symbol{i} \Seq \Null 
        \end{aligned}\\
        &\Derive \Symbol{i} \Seq \Null 
      \end{aligned}\\
      &\Derive \Null
    \end{aligned}
  \end{equation*}
Za \ref{g:listi} so vse stavčne oblike $\{\Symbol{L}, \Symbol{i} \Seq \Symbol{L}, \Symbol{i} \Seq \Symbol{i} \Seq \Symbol{L}, \dots, \Null, \Symbol{i}, \Symbol{i} \Seq \Symbol{i}, \dots\}$.

  \begin{equation*}
    \Symbol{E} \Derive \Symbol{N} \Seq \Symbol{p} \Seq \Symbol{N} \begin{aligned}[t]
      &\Derive \Symbol{a} \Seq \Symbol{p} \Seq \Symbol{N} \begin{aligned}[t]
        &\Derive \Symbol{a} \Seq \Symbol{p} \Seq \Symbol{a}\\
        &\Derive \Symbol{a} \Seq \Symbol{p} \Seq \Symbol{b}\\
      \end{aligned}\\
      &\Derive \Symbol{b} \Seq \Symbol{p} \Seq \Symbol{N} \begin{aligned}[t]
        &\Derive \Symbol{b} \Seq \Symbol{p} \Seq \Symbol{a}\\
        &\Derive \Symbol{b} \Seq \Symbol{p} \Seq \Symbol{b}\\
      \end{aligned}
    \end{aligned}
  \end{equation*}
Za \ref{g:plusab} so vse stavčne oblike $\{\Symbol{E}, \Symbol{N} \Seq \Symbol{p} \Seq \Symbol{N}, \Symbol{a} \Seq \Symbol{p} \Seq \Symbol{N}, \Symbol{b} \Seq \Symbol{p} \Seq \Symbol{N}, \Symbol{N} \Seq \Symbol{p} \Seq \Symbol{a}, \Symbol{N} \Seq \Symbol{p} \Seq \Symbol{b}, \Symbol{a} \Seq \Symbol{p} \Seq \Symbol{a}, \Symbol{a} \Seq \Symbol{p} \Seq \Symbol{b}, \Symbol{b} \Seq \Symbol{p} \Seq \Symbol{a}, \Symbol{b} \Seq \Symbol{p} \Seq \Symbol{b} \}$.

Stavki gramatike, so vsi seznami terminalnih simbolov $w \in \Kleene{\Terminals}$, kjer $\StartSymbol \DeriveStar w$.
Seznam vseh stavkov dobimo tako, da gremo sistematično skozi vse možne izpeljave in izberemo samo tiste stavčne oblike, ki vsebujejo samo terminalne simbole.

\Ex
Za \ref{g:listi} so vsi stavki $\{\Null, \Symbol{i}, \Symbol{i} \Seq \Symbol{i}, \dots\}$.

Za \ref{g:plusab} vsi stavki $\{\Symbol{a} \Seq \Symbol{p} \Seq \Symbol{a}, \Symbol{a} \Seq \Symbol{p} \Seq \Symbol{b}, \Symbol{b} \Seq \Symbol{p} \Seq \Symbol{a}, \Symbol{b} \Seq \Symbol{p} \Seq \Symbol{b} \}$.

Jezik, ki ga gramatika opisuje je množica vseh stavkov:
\begin{equation*}
  \Language{\Grammar} = \{ w \in \Kleene{T} \mid \StartSymbol \DeriveStar w\}
\end{equation*}

\Ex
  \begin{align*}
    \Language{\Grammar_1} &= \{\Null, \Symbol{i}, \Symbol{i} \Seq \Symbol{i}, \dots\}\\
    \Language{\Grammar_2} &= \{\Symbol{a} \Seq \Symbol{p} \Seq \Symbol{a}, \Symbol{a} \Seq \Symbol{p} \Seq \Symbol{b}, \Symbol{b} \Seq \Symbol{p} \Seq \Symbol{a}, \Symbol{b} \Seq \Symbol{p} \Seq \Symbol{b} \}
  \end{align*}

\subsection{Razpoznavanje}

Preveriti želimo ali je nek seznam terminalov $u \in \Kleene{T}$ v jeziku za gramatiko $\Grammar$, torej $u \in \Language{\Grammar}$.

\Ex
  \begin{equation*}
    \Symbol{i} \Seq \Symbol{i} \in \Language{\Grammar_1}
  \end{equation*}

  Ker $\Symbol{i} \Seq \Symbol{i} \in \{\Null, \Symbol{i}, \Symbol{i} \Seq \Symbol{i}, \dots\}$ je odgovor v tem primeru pritrdilen.

Problem je, da moramo sistematično iti skozi vse stavke.

Rešitev je, da poskušamo iz $\StartSymbol$ izpeljati vhoden niz $u$, če je to mogoče potem $\StartSymbol \DeriveStar u$ in $u \in \Language{\Grammar}$ (po definiciji).
Ker vhoden niz $u$ poznamo v naprej, stavčnih oblik iz katerih $u$ ne gre izpeljati ne rabimo upoštevati.
Za določene jezike velja, da je na vsaki točki izpeljave možna samo ena stavčna oblika.

\Ex
  \begin{equation*}
    \Symbol{L} \Derive \Symbol{i} \Seq \Symbol{L} \Derive \Symbol{i} \Seq \Symbol{i} \Seq \Symbol{L} \Derive \Symbol{i} \Seq \Symbol{i} \Seq \Null
  \end{equation*}
  Torej je odgovor pritrdilen.

Problem nastane, ko moramo izbrati med več desnimi stranmi.

\Ex
  \begin{equation*}
    \Symbol{b} \Seq \Symbol{p} \Seq \Symbol{a} \in \Language{\Grammar_2}
  \end{equation*}

  \begin{equation*}
    \Symbol{E} \Derive \Symbol{N} \Seq \Symbol{p} \Seq \Symbol{N} \begin{aligned}[t]
      \Derive \Symbol{a} \Seq \Symbol{p} \Seq \Symbol{N}\\
      \Derive \Symbol{b} \Seq \Symbol{p} \Seq \Symbol{N}
    \end{aligned}
  \end{equation*}

Tukaj imamo dve možnosti ali uporabimo $\Symbol{N} \Arrow \Symbol{a}$ ali pa $\Symbol{N} \Arrow \Symbol{b}$.
Rešitev je, da $\Symbol{a} \Seq \Symbol{p} \Seq \Symbol{N}$ in $\Symbol{b} \Seq \Symbol{p} \Seq \Symbol{N}$ primerjamo s $\Symbol{b} \Seq \Symbol{p} \Seq \Symbol{a}$.
Pravilna izbira je $\Symbol{N} \Arrow \Symbol{b}$.

\Ex
V primeru, da imamo naslednjo gramatiko pa izbira ni takoj jasna:
\begin{equation*}
  \tag{$\Grammar_3$}
  \label{g:first}
  \begin{aligned}
    \Symbol{S} &\Arrow \Symbol{A} \Seq \Symbol{C} \Union \Symbol{B} \\
    \Symbol{A} &\Arrow \Symbol{D} \Union \Symbol{a} \\
    \Symbol{B} &\Arrow \Symbol{b}\\
    \Symbol{C} &\Arrow \Symbol{c} \Seq \Symbol{d}\\
    \Symbol{D} &\Arrow \Symbol{e} \Union \Null
  \end{aligned}
\end{equation*}

\begin{equation*}
  \Symbol{S} \begin{aligned}[t]
    &\Derive \Symbol{A} \Seq \Symbol{C} \begin{aligned}[t]
      &\Derive \Symbol{D} \Seq \Symbol{C} \begin{aligned}[t]
        &\Derive \Symbol{e} \Seq \Symbol{C} \Derive \Symbol{e} \Seq \Symbol{C} \Derive \Symbol{e} \Seq \Symbol{c} \Seq \Symbol{d}\\
        &\Derive \Null \Seq \Symbol{C}
      \end{aligned}\\
      &\Derive \Symbol{a} \Seq \Symbol{C}
    \end{aligned}\\
    &\Derive \Symbol{B}
  \end{aligned}
\end{equation*}

Zanima nas ali $\Symbol{e} \Seq \Symbol{c} \Seq \Symbol{d} \in \Language{\text{\ref{g:first}}}$.
Izpeljavo začnemo s stavčno obliko $\Symbol{S}$, produkcija $\Symbol{S} \Arrow \Symbol{A} \Seq \Symbol{C} \Union \Symbol{B}$ ima na voljo dve desni strani.
Pravilna je tista desna stran iz katere lahko izpeljemo $\Symbol{e} \Seq \Symbol{c} \Seq \Symbol{d}$.
Torej ali $\Symbol{A} \Seq \Symbol{C} \DeriveStar \Symbol{e} \Seq \Symbol{c} \Seq \Symbol{d}$ ali $\Symbol{B} \DeriveStar \Symbol{e} \Seq \Symbol{c} \Seq \Symbol{d}$.
Problem lahko poenostavimo, tako da se odločimo tako, da primerjamo prvi terminalni simbol v vhodnem nizu, ki še ga nismo razpoznali, s terminalnimi simboli s katerimi se lahko začneta desni strani.
To seveda deluje samo za omejen nabor gramatik.
Torej, če $\Symbol{e} \in \FIRST(\Symbol{A} \Seq \Symbol{C})$ izberemo $\Symbol{A} \Seq \Symbol{C}$, če $\Symbol{e} \in \FIRST(B)$ izberemo $\Symbol{B}$.
Predpostavimo, da $\FIRST(\Symbol{A} \Seq \Symbol{C}) = \{\Symbol{a}, \Symbol{c}, \Symbol{e}\}$ in $\FIRST(\Symbol{B}) = \{\Symbol{b}\}$.
V tem primeru izberemo desno stran $\Symbol{A} \Seq \Symbol{C}$.

Sedaj imamo stavčno obliko $\Symbol{A} \Seq \Symbol{C}$, produkcija $\Symbol{A} \Arrow \Symbol{D} \Union \Symbol{a}$ ima na voljo dve desni strani.
Če $\Symbol{e} \in \FIRST(\Symbol{D})$ izberemo $\Symbol{D}$, če $\Symbol{e} \in \FIRST(\Symbol{a})$ izberemo $\Symbol{a}$.
Predpostavimo, da $\FIRST(\Symbol{D}) = \{\Null, \Symbol{e}\}$ in $\FIRST(a) = \{\Symbol{a}\}$.
V tem primeru izberemo desno stran $\Symbol{D}$.

Sedaj imamo stavčno obliko $\Symbol{D} \Seq \Symbol{C}$, produkcija $\Symbol{D} \Arrow \Symbol{e} \Union \Null$ ima na voljo dve desni strani.
Če $\Symbol{e} \in \FIRST(\Symbol{e})$ izberemo $\Symbol{e}$, če $\Symbol{e} \in \FIRST(\Null)$ izberemo $\Null$.
Predpostavimo, da $\FIRST(\Symbol{e}) = \{\Symbol{e}\}$ in $\FIRST(\Null) = \{\Null\}$.
V tem primeru izberemo desno stran $\Symbol{e}$.
Razpoznali smo terminalen simbol $\Symbol{e}$.

Sedaj imamo stavčno obliko $\Symbol{e} \Seq \Symbol{C}$, produkcija $\Symbol{C} \Arrow \Symbol{c} \Seq \Symbol{d}$ ima na voljo samo eno desno stran.
Potem odločanje ni potrebno.
Razpoznali smo še terminalna simbola $\Symbol{c}$ in $\Symbol{d}$.

Sedaj smo prišli do stavka $\Symbol{e} \Seq \Symbol{c} \Seq \Symbol{d}$.
Uspelo nam je izpeljati $\Symbol{e} \Seq \Symbol{c} \Seq \Symbol{d}$, torej ${\Symbol{e} \Seq \Symbol{c} \Seq \Symbol{d} \in \Language{\text{\ref{g:first}}}}$.

V nadaljevanju bo opisano kako izračunamo množico $\FIRST$.
Prav tako, bomo potrebovali še množico $\FOLLOW$, v primeru ko je mogoče iz ene izmed desnih strani izpeljati $\Null$.
Pri gramatiki \ref{g:first} je bilo to pri stavčnih oblikah $\Symbol{A} \Seq \Symbol{C}$ in $\Symbol{D} \Seq \Symbol{C}$, vendar pri $\Symbol{e} \Seq \Symbol{c} \Seq \Symbol{d}$ nismo imeli problemov.
Drugače bi bilo, če nas bi zanimalo ali $\Symbol{c} \Seq \Symbol{d} \in \Language{\text{\ref{g:first}}}$.

\section{\FIRST}

Funkcija $\FIRST$ vrne množico prvih terminalnih simbolov.
Na splošno je definirana za seznam neterminalnih in terminalnih simbolov:
\begin{equation*}
  \FIRST(\alpha) = \{ a \mid \alpha \DeriveStar a \Seq \beta \} \text{, kjer } \alpha \in \Kleene{(\NonTerminals \cup \Terminals)} \text{ in } a \in \Terminals \text{ in } \beta \in \Kleene{(\NonTerminals \cup \Terminals)}
\end{equation*}

Torej začnemo z $\alpha$ in sistematično zamenjujemo prvi neterminalen simbol z desnimi stranmi, dokler ni na začetku terminalen simbol.

\Ex
\begin{equation*}
  \begin{aligned}
    \Symbol{S} &\Arrow \Symbol{A} \Seq \Symbol{C} \Union \Symbol{B} \\
    \Symbol{A} &\Arrow \Symbol{D} \Union \Symbol{a} \\
    \Symbol{B} &\Arrow \Symbol{b}\\
    \Symbol{C} &\Arrow \Symbol{c} \Seq \Symbol{d}\\
    \Symbol{D} &\Arrow \Symbol{e} \Union \Null
  \end{aligned}
\end{equation*}

\begin{equation*}
  \Symbol{A} \Seq \Symbol{C} \begin{aligned}[t]
    &\Derive \Symbol{D} \Seq \Symbol{C} \begin{aligned}[t]
      &\Derive \Symbol{e} \Seq \Symbol{C} \Derive \Symbol{e} \Seq \Symbol{C} \\
      &\Derive \Null \Seq \Symbol{C} \Derive \Symbol{c} \Seq \Symbol{d} \\
    \end{aligned}\\
    &\Derive \Symbol{a} \Seq \Symbol{C}
  \end{aligned}
\end{equation*}

Prvi neterminalen simbol je $\Symbol{A}$.
Prva opcija je, da uporabimo $\Symbol{A} \Arrow \Symbol{D}$.
Na začetku imamo neterminalen simbol $\Symbol{D}$.
Prva opcija je, da uporabimo $\Symbol{D} \Arrow \Symbol{e}$.
Na začetku imamo terminalen simbol $\Symbol{e}$.
Druga opcija je, da uporabimo $\Symbol{D} \Arrow \Null$.
Na začetku imamo neterminalen simbol $C$.
Uporabimo $\Symbol{C} \Arrow \Symbol{c} \Seq \Symbol{d}$ in ga zamenjamo s $\Symbol{c} \Seq \Symbol{d}$.
Na začetku imamo terminalen simbol $\Symbol{c}$.
Druga opcija je, da uporabimo $\Symbol{A} \Arrow \Symbol{a}$.
Na začetku imamo terminalen simbol $\Symbol{a}$.
Prvi terminalni simboli so torej $\Symbol{a}$, $\Symbol{c}$ in $\Symbol{e}$:
\begin{equation*}
  \FIRST(\Symbol{A} \Seq \Symbol{C}) = \{\Symbol{a}, \Symbol{c}, \Symbol{e}\}
\end{equation*}

\Special{Poseben primer:} Če je $\alpha$ enak $\Null$ ${(\alpha = \Null)}$, potem je $\FIRST$ $\Null$:
\begin{equation*}
  \FIRST(\Null) = \{ \Null \}
\end{equation*}

\Special{Poseben primer:} Če je $\alpha$ sestavljen iz samo enega terminalnega simbola ${(\alpha = a)}$, potem je $\FIRST$ ta terminalen simbol, ker trivialno $a \DeriveStar a$.
\begin{equation*}
  \FIRST(a) = \{ a \}
\end{equation*}

\Special{Poseben primer:} Če je $\alpha$ sestavljen iz samo enega neterminalnega simbola ${(\alpha = A)}$, potem je funkcija $\FIRST$:
\begin{equation*}
  \FIRST(A) = \{ a \mid A \DeriveStar a \Seq \beta \}
\end{equation*}
Če imamo produkcijo $A \Arrow \gamma \Union \dots \Union \eta$, potem:
\begin{equation*}
  \FIRST(A) = \FIRST(\gamma) \cup \dots \cup \FIRST(\eta)
\end{equation*}
Ko iščemo $\FIRST(A)$, po splošni definiciji $A$ sistematično zamenjamo z desnimi desnimi stranmi $\gamma, \dots, \eta$ in postopek ponovimo za vsako desno stran, torej poiščemo $\FIRST(\gamma), \dots, \FIRST(\eta)$ in jih nato združimo.

\Ex
Če uporabimo splošno definicijo lahko $\FIRST(\Symbol{S})$ izračunamo tako:
\begin{equation*}
  S \begin{aligned}[t]
    &\Derive \Symbol{A} \Seq \Symbol{C} \begin{aligned}[t]
      &\Derive \Symbol{D} \Seq \Symbol{C} \begin{aligned}[t]
        &\Derive \Symbol{e} \Seq \Symbol{C} \Derive \Symbol{e} \Seq \Symbol{C} \\
        &\Derive \Null \Seq \Symbol{C} \Derive \Symbol{c} \Seq \Symbol{d} \\
      \end{aligned}\\
      &\Derive \Symbol{a} \Seq \Symbol{C}
    \end{aligned}\\
    &\Derive \Symbol{B} \Derive \Symbol{b}
  \end{aligned}
\end{equation*}
\begin{equation*}
  \FIRST(S) = \{\Symbol{a}, \Symbol{b}, \Symbol{c}, \Symbol{e}\}
\end{equation*}

Lahko pa $\FIRST(\Symbol{S})$, razbijemo na $\FIRST(\Symbol{A} \Seq \Symbol{C})$ in $\FIRST(\Symbol{B})$, ker $\Symbol{S} \Arrow \Symbol{A} \Seq \Symbol{C} \Union \Symbol{B}$, izračunamo vsakega posamezno in ju združimo:
\begin{equation*}
  \FIRST(\Symbol{S}) = \FIRST(\Symbol{A} \Seq \Symbol{C}) \cup \FIRST(\Symbol{B})
\end{equation*}
$\FIRST(\Symbol{A} \Seq \Symbol{C})$, smo izračunali že zgoraj:
\begin{equation*}
  \FIRST(\Symbol{A} \Seq \Symbol{C}) = \{\Symbol{a}, \Symbol{c}, \Symbol{e}\}
\end{equation*}

Izračunamo še $\FIRST(\Symbol{B})$ :
\begin{equation*}
  \Symbol{B} \Derive \Symbol{b}
\end{equation*}
\begin{equation*}
  \FIRST(\Symbol{B}) = \{\Symbol{b}\}
\end{equation*}

Obe množici nato združimo in dobimo $\FIRST(\Symbol{S})$:
\begin{align*}
  \FIRST(S) &= \{\Symbol{a}, \Symbol{c}, \Symbol{e}\} \cup \{\Symbol{b}\}\\
  \FIRST(S) &= \{\Symbol{a}, \Symbol{b}, \Symbol{c}, \Symbol{e}\}
\end{align*}

Definicijo lahko razširimo na množico seznamov neterminalnih in terminalnih simbolov:
\begin{equation*}
  \FIRST(\Set{A}) = \bigcup_{\alpha \in \Set{A}} \FIRST(\alpha) \text{, kjer } \Set{A} \in \Powerset{\Kleene{(\NonTerminals \cup \Terminals)}} \text{ in } \alpha \in \Kleene{(\NonTerminals \cup \Terminals)}
\end{equation*}
Torej izračunamo $\FIRST$ za vsak seznam v $\Set{A}$ in jih združimo.

To pomeni, da se lahko ustavimo na katerem koli koraku izpeljave $\alpha \DeriveStar \gamma$ izračunamo vsak $\FIRST(\gamma)$ posebej in jih združimo:
\begin{equation*}
  \FIRST(\alpha) = \FIRST(\{\gamma \mid \alpha \DeriveStar \gamma\}) = \bigcup_{\alpha \DeriveStar \gamma} \FIRST(\gamma)
\end{equation*}

\Ex
  Iz $\Symbol{S}$ lahko izpeljemo $\Symbol{A} \Seq \Symbol{C}$ in $\Symbol{B}$, torej lahko izračunamo $\FIRST$ za vsakega posebej.
  \begin{align*}
    \Symbol{S} &\Derive \Symbol{A} \Seq \Symbol{C}\\
    \Symbol{S} &\Derive \Symbol{B}
  \end{align*}
  Lahko vidimo, da je razširitev konsistentna z definicijo za produkcijo.
  \begin{align*}
    \FIRST(\Symbol{S}) &= \FIRST(\{\Symbol{A} \Seq \Symbol{C}, \Symbol{B}\}) \\
              &= \FIRST(\Symbol{A} \Seq \Symbol{C}) \cup \FIRST(\Symbol{B})\\
              &= \{\Symbol{a}, \Symbol{c}, \Symbol{e}\} \cup \{\Symbol{b}\} \\
              &= \{\Symbol{a}, \Symbol{b}, \Symbol{c}, \Symbol{e}\}
  \end{align*}

  Izpeljavo iz $\Symbol{S}$ lahko nadaljujemo do $\Symbol{C} \Seq \Symbol{C}, \Symbol{D} \Seq \Symbol{C}, \Symbol{a} \Seq \Symbol{C}, \Symbol{B}$ (ustavimo se lahko kjer koli):
  \begin{equation*}
    S \begin{aligned}[t]
      &\Derive \Symbol{A} \Seq \Symbol{C} \begin{aligned}[t]
        &\Derive \Symbol{D} \Seq \Symbol{C}\\
        &\Derive \Symbol{a} \Seq \Symbol{C}
      \end{aligned}\\
      &\Derive \Symbol{B}
    \end{aligned}
  \end{equation*}
  Nato izračunamo $\FIRST$ posebej za vsak $\Symbol{C} \Seq \Symbol{C}, \Symbol{D} \Seq \Symbol{C}, \Symbol{a} \Seq \Symbol{C}, \Symbol{B}$ in jih združimo:
  \begin{align*}
    \FIRST(\Symbol{S}) &= \FIRST(\{\Symbol{D} \Seq \Symbol{C}, \Symbol{a} \Seq \Symbol{C}, \Symbol{B}\}) \\
              &= \FIRST(\Symbol{D} \Seq \Symbol{C}) \cup \FIRST(\Symbol{a} \Seq \Symbol{C}) \cup \FIRST(\Symbol{B})
  \end{align*}
  $\FIRST(B)$ smo izračunali že zgoraj, $\FIRST(\Symbol{a} \Seq \Symbol{C}) = \{\Symbol{a}\}$.
  Izračunamo še $\FIRST(\Symbol{D} \Seq \Symbol{C})$:
  \begin{equation*}
    \Symbol{D} \Seq \Symbol{C} \begin{aligned}[t]
      &\Derive \Symbol{e} \Seq \Symbol{C} \Derive \Symbol{e} \Seq \Symbol{C} \\
      &\Derive \Null \Seq \Symbol{C} \Derive \Symbol{c} \Seq \Symbol{d} \\
    \end{aligned}
  \end{equation*}
  \begin{equation*}
    \FIRST(\Symbol{D} \Seq \Symbol{C}) = \{\Symbol{e}, \Symbol{c}\}
  \end{equation*}
  Nato rezultate združimo in dobimo $\FIRST(\Symbol{S})$:
  \begin{align*}
    \FIRST(S) &= \{\Symbol{e}, \Symbol{c}\} \cup \{\Symbol{a}\} \cup \{\Symbol{b}\} \\
              &= \{\Symbol{a}, \Symbol{b}, \Symbol{c}, \Symbol{e}\}
  \end{align*}

Če seznam $\alpha$ razdelimo na glavo $X$ in rep $\gamma$ seznama ${(\alpha = X \Seq \gamma)}$, dobimo pravilo:
\begin{equation*}
  \FIRST(X \Seq \gamma) = \FIRST(\FIRST(X) \Seq \FIRST(\gamma))
\end{equation*}
Pravilo lahko razbijemo glede na vrsto simbola:
\begin{align*}
  \FIRST(A \Seq \gamma) &= \FIRST(\FIRST(A) \Seq \FIRST(\gamma))\\
  \FIRST(a \Seq \gamma) &= \FIRST(\FIRST(a) \Seq \FIRST(\gamma)) = \FIRST(a) = \{a\}
\end{align*}
Torej, če je na začetku seznama terminalen simbol, je prvi terminalen simbol trivialno ta simbol.

V primeru, da $\varepsilon \in \FIRST(A)$, potem so lahko na začetku tudi terminalni simboli iz preostanka seznama $\FIRST(\gamma)$ (tukaj uporabimo pravilo za konkatenacijo množic):
\begin{align*}
  \FIRST(A \Seq \gamma) &= \FIRST(\{a \Seq b \mid a \in \FIRST(A) \land b \in \FIRST(\gamma)\})\\
   &= \bigcup_{a \in \FIRST(A) \land b \in \FIRST(\gamma)} \FIRST(a \Seq b)
\end{align*}
Torej, ko $a = \Null$ potem imamo na začetku seznama $b$, ker $a \Seq b = \Null \Seq b = b$.

\Ex
  Ko izpeljujemo iz $\Symbol{D} \Seq \Symbol{C}$, se lahko zgodi, da $\Null \in \FIRST(\Symbol{D})$, takrat je na začetku $\Symbol{c} \in \FIRST(\Symbol{C})$:
  \begin{equation*}
    \Symbol{D} \Seq \Symbol{C} \begin{aligned}[t]
      &\Derive \Symbol{e} \Seq \Symbol{C} \Derive \Symbol{e} \Seq \Symbol{C} \\
      &\Derive \Null \Seq \Symbol{C} \Derive \Symbol{c} \Seq \Symbol{d} \\
    \end{aligned}
  \end{equation*}
  \begin{equation*}
    \FIRST(\Symbol{D} \Seq \Symbol{C}) = \{\Symbol{e}, \Symbol{c}\}
  \end{equation*}

  Enako dobimo če uporabimo pravilo.
  Najprej izračunajmo $\FIRST(\Symbol{C})$:
  \begin{equation*}
    \FIRST(\Symbol{C}) = \FIRST(\Symbol{c} \Seq \Symbol{d}) = \{\Symbol{c}\}
  \end{equation*}
  \begin{equation*}
    \FIRST(C) = \{c\}
  \end{equation*}
  Nato izračunamo $\FIRST(\Symbol{D} \Seq \Symbol{C})$ in dobimo enako:
  \begin{equation*}
    \begin{aligned}
      \FIRST(\Symbol{D} \Seq \Symbol{C}) &= \FIRST(\FIRST(\Symbol{D}) \Seq \FIRST(\Symbol{C}))\\
                &= \FIRST(\{\Null, \Symbol{e}\} \Seq \{\Symbol{c}\})\\
                &= \FIRST(\{\Null \Seq \Symbol{c}, \Symbol{e} \Seq \Symbol{c}\})\\
                &= \FIRST(\Null \Seq \Symbol{c}) \cup \FIRST(\Symbol{e} \Seq \Symbol{c})\\
                &= \FIRST(\Symbol{c}) \cup \FIRST(\Symbol{e})\\
                &= \{\Symbol{c}\} \cup \{\Symbol{e}\}\\
                &= \{\Symbol{c}, \Symbol{e}\}
    \end{aligned}
  \end{equation*}
  \begin{equation*}
    \FIRST(\Symbol{D} \Seq \Symbol{C}) = \{\Symbol{e}, \Symbol{c}\}
  \end{equation*}

  Druga interpretacija je:
\begin{equation*}
  \FIRST(A \Seq \gamma) = \begin{cases}
    (\FIRST(A) - \Null) \cup \FIRST(\gamma) & \text{če } A \DeriveStar \Null \\
    \FIRST(A) & \text{sicer} \\
  \end{cases}
\end{equation*}
Obrazložitev je enaka, ko $\Null \in \FIRST(A)$, lahko imamo na začetku terminalne simbole iz $\FIRST(\gamma)$, torej lahko odstranimo $\Null$ iz $\FIRST(A)$ in dodamo terminalne simbole iz $\FIRST(\gamma)$.

\Ex
  $\FIRST(\Symbol{D} \Seq \Symbol{C})$ lahko izračunamo tudi tako (ker $\Symbol{D} \DeriveStar \Null$):
  \begin{equation*}
    \begin{aligned}
      \FIRST(\Symbol{D} \Seq \Symbol{C}) &= (\FIRST(\Symbol{D}) - \Null) \cup \FIRST(\Symbol{C})\\
                &= (\{\Null, \Symbol{e}\} - \Null) \cup \{\Symbol{c}\})\\
                &= \{\Symbol{e}\} \cup \{\Symbol{c}\}\\
                &= \{\Symbol{c}, \Symbol{e}\}
    \end{aligned}
  \end{equation*}

Sedaj imamo dovolj pravil, da gramatiko mehanično pretvorimo v enačbe za $\FIRST$.
Za razpoznavanje potrebujemo $\FIRST$ za vsako desno stran produkcije v gramatiki.
Gramatika ne sme vsebovati leve rekurzije (v tem primeru bi morali poiskati fiksno točko nastale enačbe).
Vrstni red računanja je določen tako: Najprej izračunamo $\FIRST$ za terminalne simbole, nato pa če obstaja produkcija ${A \Arrow \gamma \Seq X \Seq \eta}$, najprej izračunamo $\FIRST$ vse $X$ in nato izračunamo $\FIRST$ za $A$ (tako optimiziramo ponovno uporabo):

\Ex
\begin{equation*}
  \begin{aligned}
    \Symbol{S} &\Arrow \Symbol{A} \Seq \Symbol{C} \Union \Symbol{B} \\
    \Symbol{A} &\Arrow \Symbol{D} \Union \Symbol{a} \\
    \Symbol{B} &\Arrow \Symbol{b}\\
    \Symbol{C} &\Arrow \Symbol{c} \Seq \Symbol{d}\\
    \Symbol{D} &\Arrow \Symbol{e} \Union \Null
  \end{aligned}
\end{equation*}
Terminalni simboli v tej gramatiki so $\Symbol{a}, \Symbol{b}, \Symbol{c}, \Symbol{d}, \Symbol{e}$, torej:
\begin{align*}
  \FIRST(\Symbol{a}) = \{\Symbol{a}\}\\
  \FIRST(\Symbol{b}) = \{\Symbol{b}\}\\
  \FIRST(\Symbol{c}) = \{\Symbol{c}\}\\
  \FIRST(\Symbol{d}) = \{\Symbol{d}\}\\
  \FIRST(\Symbol{e}) = \{\Symbol{e}\}
\end{align*}
Potem izračunamo $\FIRST$ za vse desne strani po omenjenem vrstnem redu:
\begin{align*}
  \FIRST(\Symbol{c} \Seq \Symbol{d}) &= \FIRST(c) = \{\Symbol{c}\} \\
  \FIRST(\Symbol{C}) &= \FIRST(\Symbol{c} \Seq \Symbol{d}) = \{\Symbol{c}\} \\
  \FIRST(\Symbol{D}) &= \FIRST(\Symbol{e}) \cup \FIRST(\Null) \\
            &= \{\Symbol{e}\} \cup \{\Null\} = \{\Symbol{e}, \Null\} \\
  \FIRST(\Symbol{A}) &= \FIRST(\Symbol{D}) \cup \FIRST(\Symbol{a}) \\
            &= \{\Symbol{e}, \Null\} \cup \{\Symbol{a}\} = \{\Null, \Symbol{a}, \Symbol{c}, \Symbol{e}\} \\
  \FIRST(\Symbol{A} \Seq \Symbol{C}) &= \FIRST(\Symbol{A} \Seq \Symbol{C}) \\
            &= \FIRST(\FIRST(\Symbol{A}) \Seq \FIRST(\Symbol{C})) \\
            &= \FIRST(\{\Symbol{a}, \Symbol{c}, \Symbol{e}, \Null\} \Seq \{\Symbol{c}\})\\
            &= \FIRST(\{\Symbol{a} \Seq \Symbol{c}, \Symbol{c} \Seq \Symbol{c}, \Symbol{e} \Seq \Symbol{c}, \Null \Seq \Symbol{c}\})\\
            &= \FIRST(\Symbol{a} \Seq \Symbol{c}) \cup \FIRST(\Symbol{c} \Seq \Symbol{c}) \cup \FIRST(\Symbol{e} \Seq \Symbol{c}) \cup \FIRST(\Null \Seq \Symbol{c})\\
            &= \FIRST(\Symbol{a}) \cup \FIRST(\Symbol{c}) \cup \FIRST(\Symbol{e}) \cup \FIRST(\Symbol{c}) \\
            &= \{\Symbol{a}\} \cup \{\Symbol{c}\} \cup \{\Symbol{e}\} \cup \{\Symbol{c}\}\\
            &= \{\Symbol{a}, \Symbol{c}, \Symbol{e}\}\\
  \FIRST(\Symbol{A} \Seq \Symbol{C}) &= \FIRST(\Symbol{A} \Seq \Symbol{C}) \\
            &= (\FIRST(\Symbol{A}) - \Null) \cup \FIRST(\Symbol{C}) \\
            &= (\{\Null, \Symbol{a}, \Symbol{c}, \Symbol{e}\} - \Null) \cup \{\Symbol{c}\} \\
            &= \{\Symbol{a}, \Symbol{c}, \Symbol{e}\} \cup \{\Symbol{c}\}\\
            &= \{\Symbol{a}, \Symbol{c}, \Symbol{e}\}\\
  \FIRST(\Symbol{B}) &= \FIRST(\Symbol{b}) = \{\Symbol{b}\}
\end{align*}

Izračunamo lahko tudi $\FIRST(S)$ vendar, ga za implementacijo razpoznavalnika ne potrebujemo:
\begin{align*}
  \FIRST(\Symbol{S}) &= \FIRST(\Symbol{A} \Seq \Symbol{C}) \cup \FIRST(\Symbol{B}) \\
            &= \{\Symbol{a}, \Symbol{c}, \Symbol{e}\} \cup \{\Symbol{b}\} = \{\Symbol{a}, \Symbol{b}, \Symbol{c}, \Symbol{e}\}
\end{align*}

V vseh primerih dobimo enako, kot z uporabo splošne definicije:
\begin{equation*}
  \Symbol{c} \Seq \Symbol{d}
\end{equation*}
\begin{equation*}
  \FIRST(\Symbol{c} \Seq \Symbol{d}) = \{\Symbol{c}\}
\end{equation*}

\begin{equation*}
  \Symbol{C} \Derive \Symbol{c} \Seq \Symbol{d}
\end{equation*}
\begin{equation*}
  \FIRST(\Symbol{C}) = \{\Symbol{c}\}
\end{equation*}

\begin{equation*}
  \Symbol{D} \begin{aligned}[t]
    &\Derive \Null\\
    &\Derive \Symbol{e}\\
  \end{aligned}
\end{equation*}
\begin{equation*}
  \FIRST(\Symbol{D}) = \{\Null, \Symbol{e}\}
\end{equation*}

\begin{equation*}
  \Symbol{A} \begin{aligned}[t]
    &\Derive \Symbol{D} \begin{aligned}[t]
      &\Derive \Symbol{e} \\
      &\Derive \Null\\
    \end{aligned}\\
    &\Derive \Symbol{a}
  \end{aligned}
\end{equation*}
\begin{equation*}
  \FIRST(\Symbol{A}) = \{\Null, \Symbol{a}, \Symbol{e}\}
\end{equation*}

\begin{equation*}
  \Symbol{A} \Seq \Symbol{C} \begin{aligned}[t]
    &\Derive \Symbol{D} \Seq \Symbol{C} \begin{aligned}[t]
      &\Derive \Symbol{e} \Seq \Symbol{C} \Derive \Symbol{e} \Seq \Symbol{C} \\
      &\Derive \Null \Seq \Symbol{C} \Derive \Symbol{c} \Seq \Symbol{d} \\
    \end{aligned}\\
    &\Derive \Symbol{a} \Seq \Symbol{C}
  \end{aligned}
\end{equation*}
\begin{equation*}
  \FIRST(\Symbol{A} \Seq \Symbol{C}) = \{\Symbol{a}, \Symbol{c}, \Symbol{e}\}
\end{equation*}

\begin{equation*}
  \Symbol{B} \Derive \Symbol{b}
\end{equation*}
\begin{equation*}
  \FIRST(\Symbol{B}) = \{\Symbol{b}\}
\end{equation*}

\begin{equation*}
  \Symbol{S} \begin{aligned}[t]
    &\Derive \Symbol{A} \Seq \Symbol{C} \begin{aligned}[t]
      &\Derive \Symbol{D} \Seq \Symbol{C} \begin{aligned}[t]
        &\Derive \Symbol{e} \Seq \Symbol{C} \Derive \Symbol{e} \Seq \Symbol{C} \\
        &\Derive \Null \Seq \Symbol{C} \Derive \Symbol{c} \Seq \Symbol{d} \\
      \end{aligned}\\
      &\Derive \Symbol{a} \Seq \Symbol{C}
    \end{aligned}\\
    &\Derive \Symbol{B} \Derive \Symbol{b}
  \end{aligned}
\end{equation*}
\begin{equation*}
  \FIRST(\Symbol{S}) = \{\Symbol{a}, \Symbol{b}, \Symbol{c}, \Symbol{e}\}
\end{equation*}

\subsection*{Primeri}

\section{\FOLLOW}
\Ex
  \begin{equation*}
  \begin{aligned}
    \Symbol{S} &\Arrow \Symbol{A} \Seq \Symbol{C} \Union \Symbol{B} \\
    \Symbol{A} &\Arrow \Symbol{D} \Union \Symbol{a} \\
    \Symbol{B} &\Arrow \Symbol{b}\\
    \Symbol{C} &\Arrow \Symbol{c} \Seq \Symbol{d}\\
    \Symbol{D} &\Arrow \Symbol{e} \Union \Null
  \end{aligned}
\end{equation*}

Tokrat bomo $S$ pred začetkom izpeljave dodali $\EOF$.
To je zato, ker $S$ konceptualno sledi $\EOF$ in se zato pojavi v množicah $\FOLLOW$.
\begin{equation*}
  \Symbol{S} \Seq \EOF \begin{aligned}[t]
    &\Derive \Symbol{A} \Seq \Symbol{C} \Seq \EOF \begin{aligned}[t]
      &\Derive \Symbol{D} \Seq \Symbol{C} \Seq \EOF \begin{aligned}[t]
        &\Derive \Symbol{e} \Seq \Symbol{C} \Seq \EOF\\
        &\Derive \Null \Seq \Symbol{C} \Derive \Symbol{c} \Seq \Symbol{d} \Seq \EOF
      \end{aligned}\\
      &\Derive \Symbol{a} \Seq \Symbol{C} \Seq \EOF
    \end{aligned}\\
    &\Derive \Symbol{B} \Seq \EOF
  \end{aligned}
\end{equation*}

Zanima nas ali $\Symbol{c} \Seq \Symbol{d} \in \Language{\text{\ref{g:first}}}$.
Izpeljavo začnemo s stavčno obliko $\Symbol{S} \Seq \EOF$, produkcija $\Symbol{S} \Arrow \Symbol{A} \Seq \Symbol{C} \Union \Symbol{B}$ ima na voljo dve desni strani.
Če $\Symbol{c} \in \FIRST(\Symbol{A} \Seq \Symbol{C})$ izberemo $\Symbol{A} \Seq \Symbol{C}$, če $\Symbol{c} \in \FIRST(\Symbol{B})$ izberemo $\Symbol{B}$.
Sedaj vemo, da $\FIRST(\Symbol{A} \Seq \Symbol{C}) = \{\Symbol{a}, \Symbol{c}, \Symbol{e}\}$ in $\FIRST(\Symbol{B}) = \{\Symbol{b}\}$.
V tem primeru izberemo desno stran $\Symbol{A} \Seq \Symbol{C}$.

Sedaj imamo stavčno obliko $\Symbol{A} \Seq \Symbol{C} \Seq \EOF$, produkcija $\Symbol{A} \Arrow \Symbol{D} \Union \Symbol{a}$ ima na voljo dve desni strani.
Če $c \in \FIRST(\Symbol{D})$ izberemo $\Symbol{D}$, če $\Symbol{c} \in \FIRST(\Symbol{a})$ izberemo $\Symbol{a}$.
Sedaj vemo, da $\FIRST(\Symbol{D}) = \{\Null, \Symbol{e}\}$ in $\FIRST(\Symbol{a}) = \{\Symbol{a}\}$.
Tukaj na letimo na problem, ker $\Symbol{c} \notin \FIRST(\Symbol{D})$.

Če pogledamo stavčno obliko $A \Seq \Symbol{C} \Seq \EOF$, vidimo, da v primeru $\Symbol{A} \DeriveStar \varepsilon$ sledi $\Symbol{C} \Seq \EOF$, torej bo na začetku $\FIRST(\Symbol{C} \Seq \EOF)$.
Rešitev problema je torej, da se odločimo na podlagi simbolov, ki sledijo $\Symbol{A}$, torej $\FOLLOW(\Symbol{A})$.

Trenutna definicija $\FOLLOW$ je odvisna od trenutne stavčne oblike.
Enako, kot $\FIRST$ želimo $\FOLLOW$ izračunati v naprej.
Torej mora delovati za poljubno stavčno obliko.
Rešitev problema je, da $\FOLLOW$ izračunamo za vse možne stavčne oblike:
\begin{align*}
  \FOLLOW(A) &= \{a \mid S \DeriveStar \gamma \Seq A \Seq \eta \land a \in \FIRST(\eta)\}\\
  &= \bigcup_{S \DeriveStar \gamma \Seq A \Seq \eta} \FIRST(\eta)
\end{align*}
Po konvenciji je vedno $\FOLLOW(S) = \{\EOF\}$ (zato je bilo smiselno, da smo dodali $\EOF$ pri izpeljavi).

\Ex
V primeru, se $\Symbol{A}$ lahko pojavi samo v eni stavčni obliki $\Symbol{A} \Seq \Symbol{C} \Seq \EOF$, torej:
\begin{align*}
  \FOLLOW(\Symbol{A}) &= \FIRST(\Symbol{C} \Seq \EOF) \\
             &= \FIRST(\FIRST(\Symbol{C}) \Seq \FIRST(\EOF))\\
             &= \FIRST(\{\Symbol{c}\} \Seq \{\EOF\})\\
             &= \FIRST(\{\Symbol{c} \Seq \EOF\})\\
             &= \FIRST(\Symbol{c} \Seq \EOF) \\
             &= \FIRST(\Symbol{c})\\
             &= \{\Symbol{c}\}
\end{align*}

$\FOLLOW$ lahko definiramo tudi na podlagi vseh produkcij:
\begin{align*}
  \FOLLOW(A) &= \bigcup_{B \Arrow \gamma \Seq A \Seq \eta \in \Productions} \FIRST(\FIRST(\eta) \Seq \FOLLOW(B))
\end{align*}
O smiselnosti tej definicije se lahko prepričamo tako:
Recimo, da imamo dve produkciji $S \Arrow \sigma \Seq B \Seq \tau$ in $B \Arrow \gamma \Seq A \Seq \eta$.
Potem lahko iz $S$ izpeljemo:
\begin{equation*}
  S \Seq \EOF \Derive \sigma \Seq B \Seq \tau \Seq \EOF \Derive \sigma \Seq \gamma \Seq A \Seq \eta \Seq \tau \Seq \EOF
\end{equation*}
Torej $S$ sledi $\EOF$, $B$ sledi $\tau \Seq \EOF$, torej $\tau$ in to kar sledi $S$, $A$ sledi $\eta \Seq \tau \Seq \EOF$, torej $\eta$ in to kar sledi $B$.
\begin{align*}
  \FOLLOW(B) &= \FIRST(\FIRST(\tau) \Seq \FOLLOW(S))\\
  \FOLLOW(A) &= \FIRST(\FIRST(\eta) \Seq \FOLLOW(B))\\
   &= \FIRST(\FIRST(\eta) \Seq \FIRST(\FIRST(\tau) \Seq \FOLLOW(S)))\\
   &= \FIRST(\FIRST(\eta \Seq \tau) \Seq \FOLLOW(S))\\
   &= \FIRST(\FIRST(\eta \Seq \tau) \Seq \FIRST(\EOF))\\
   &= \FIRST(\eta \Seq \tau \Seq \EOF)
\end{align*}
Torej dobimo enako, kot pri izpeljavi.

V primeru, se $\Symbol{A}$ pojavi samo v produkciji $\Symbol{S} \Arrow \Symbol{A} \Seq \Symbol{C}$, torej:
\begin{align*}
  \FOLLOW(\Symbol{A}) &= \FIRST(\FIRST(\Symbol{C}) \Seq \FOLLOW(\Symbol{S})) \\
             &= \FIRST(\{\Symbol{c}\} \Seq \{\EOF\})\\
             &= \FIRST(\{\Symbol{c} \Seq \EOF\})\\
             &= \FIRST(\Symbol{c} \Seq \EOF) \\
             &= \FIRST(\Symbol{c}) \\
             &= \{\Symbol{c}\}
\end{align*}

Podobno lahko izračunamo še za ostale neterminalne simbole:
\begin{align*}
  \FOLLOW(\Symbol{B}) &= \FIRST(\FIRST(\Null) \Seq \FOLLOW(\Symbol{S})) \\
             &= \FIRST(\{\Null\} \Seq \{\EOF\})\\
             &= \FIRST(\{\Null \Seq \EOF\})\\
             &= \FIRST(\EOF) \\
             &= \{\EOF\}
\end{align*}
\begin{align*}
  \FOLLOW(\Symbol{C}) &= \FIRST(\FIRST(\Null) \Seq \FOLLOW(\Symbol{S})) \\
             &= \FIRST(\{\Null\} \Seq \{\EOF\})\\
             &= \FIRST(\{\Null \Seq \EOF\})\\
             &= \FIRST(\EOF) \\
             &= \{\EOF\}
\end{align*}
\begin{align*}
  \FOLLOW(\Symbol{D}) &= \FIRST(\FIRST(\Null) \Seq \FOLLOW(\Symbol{A})) \\
             &= \FIRST(\{\Null\} \Seq \{\Symbol{c}\})\\
             &= \FIRST(\{\Null \Seq \Symbol{c}\})\\
             &= \FIRST(\Symbol{c}) \\
             &= \{\Symbol{c}\}
\end{align*}

Lahko pa uporabimo tudi definicijo na podlagi stavčnih oblik.
\begin{equation*}
  \Symbol{S} \Seq \EOF \begin{aligned}[t]
    &\Derive \Symbol{A} \Seq \Symbol{C} \Seq \EOF \begin{aligned}[t]
      &\Derive \Symbol{D} \Seq \Symbol{C} \Seq \EOF \begin{aligned}[t]
        &\Derive \Symbol{e} \Seq \Symbol{C} \Seq \EOF \Derive \Symbol{e} \Seq \Symbol{c} \Seq \Symbol{d} \Seq \EOF \\
        &\Derive \Null \Seq \Symbol{C} \Seq \EOF \Derive \Symbol{c} \Seq \Symbol{d} \Seq \EOF \\
      \end{aligned}\\
      &\Derive \Symbol{a} \Seq \Symbol{C} \Seq \EOF \Derive \Symbol{a} \Seq \Symbol{c} \Seq \Symbol{d} \Seq \EOF
    \end{aligned}\\
    &\Derive \Symbol{B} \Seq \EOF \Derive \Symbol{b} \Seq \EOF
  \end{aligned}
\end{equation*}
Torej vse možne stavčne oblike so:
\begin{equation*}
  \Symbol{S} \Seq \EOF, \Symbol{A} \Seq \Symbol{C} \Seq \EOF, \Symbol{B} \Seq \EOF, \Symbol{D} \Seq \Symbol{C} \Seq \EOF, \Symbol{a} \Seq \Symbol{C} \Seq \EOF, \Symbol{e} \Seq \Symbol{C} \Seq \EOF, \Symbol{C} \Seq \EOF, \Symbol{e} \Seq \Symbol{c} \Seq \Symbol{d} \Seq \EOF, \Symbol{c} \Seq \Symbol{d} \Seq \EOF
\end{equation*}

$\Symbol{A}$ se pojavi v $\Symbol{A} \Seq \Symbol{C} \Seq \EOF$, torej:
\begin{align*}
  \FOLLOW(\Symbol{A}) &= \FIRST(\Symbol{C} \Seq \EOF) \\
             &= \FIRST(\FIRST(\Symbol{C}) \Seq \FIRST(\EOF))\\
             &= \FIRST(\{\Symbol{c}\} \Seq \{\EOF\})\\
             &= \FIRST(\{\Symbol{c} \Seq \EOF\})\\
             &= \FIRST(\Symbol{c} \Seq \EOF) \\
             &= \FIRST(\Symbol{c})\\
             &= \{\Symbol{c}\}
\end{align*}

$\Symbol{B}$ se pojavi v $\Symbol{B} \Seq \EOF$, torej:
\begin{equation*}
  \FOLLOW(\Symbol{B}) = \FIRST(\EOF) = \{\EOF\}
\end{equation*}

$\Symbol{C}$ se pojavi v $\Symbol{A} \Seq \Symbol{C} \Seq \EOF, \Symbol{D} \Seq \Symbol{C} \Seq \EOF, \Symbol{a} \Seq \Symbol{C} \Seq \EOF, \Symbol{e} \Seq \Symbol{C} \Seq \EOF, \Symbol{C} \Seq \EOF$, torej:
\begin{equation*}
  \FOLLOW(\Symbol{B}) = \FIRST(\EOF) \cup \dots \cup \FIRST(\EOF) = \{\EOF\}
\end{equation*}

$\Symbol{D}$ se pojavi v $\Symbol{D} \Seq \Symbol{C} \Seq \EOF$, torej:
\begin{align*}
  \FOLLOW(\Symbol{D}) &= \FIRST(\Symbol{C} \Seq \EOF) \\
             &= \FIRST(\FIRST(\Symbol{C}) \Seq \FIRST(\EOF))\\
             &= \FIRST(\{\Symbol{c}\} \Seq \{\EOF\})\\
             &= \FIRST(\{\Symbol{c} \Seq \EOF\})\\
             &= \FIRST(\Symbol{c} \Seq \EOF) \\
             &= \FIRST(\Symbol{c})\\
             &= \{\Symbol{c}\}
\end{align*}

%Za odločitev, namesto $\FIRST(D)$ in $\FIRST(a)$, uporabimo $\FIRST(\FIRST(D) \Seq \FOLLOW(A))$ in $\FIRST(\FIRST(a) \Seq \FOLLOW(A))$.
%
%\Ex
%  \begin{equation*}
%  \tag{$\Grammar_4$}
%  \label{g:follow}
%  \begin{aligned}
%    S &\Arrow a \Seq A \Seq b \Union c \Seq A \Seq d \\
%    A &\Arrow e \Union \Null
%  \end{aligned}
%\end{equation*}
%
%\begin{align*}
%  \FIRST(a) &= \{a\} \\
%  \FIRST(b) &= \{b\} \\
%  \FIRST(c) &= \{c\} \\
%  \FIRST(d) &= \{d\} \\
%  \FIRST(e) &= \{e\} \\
%  \FIRST(A) &= \FIRST(e) \cup \FIRST(\Null) = \{e\} \cup \{\Null\} = \{\Null, e\} \\
%  \FIRST(a \Seq A \Seq b) &= \FIRST(\FIRST(a) \Seq \FIRST(A \Seq b)) = \FIRST(a) = \{a\} \\
%  \FIRST(c \Seq A \Seq d) &= \FIRST(\FIRST(c) \Seq \FIRST(A \Seq d)) = \FIRST(c) = \{c\}
%\end{align*}
%
%Tukaj se $A$ lahko pojavi v dveh stavčnih oblikah $a \Seq A \Seq b$ in $c \Seq A \Seq d$, torej:
%\begin{align*}
%  \FOLLOW(A) &= \FIRST(b) \cup \FIRST(d)  \\
%             &= \{b\} \cup \{d\} = \{b, d\}
%\end{align*}
%
%\begin{equation*}
%  S \begin{aligned}[t]
%    &\Derive a \Seq A \Seq b \begin{aligned}[t]
%      &\Derive a \Seq e \Seq b\\
%      &\Derive a \Seq \Null \Seq b
%    \end{aligned}\\
%    &\Derive c \Seq A \Seq d
%  \end{aligned}
%\end{equation*}
%
%Zanima nas ali $a \Seq b \in \Language{\text{\ref{g:follow}}}$.
%Začnemo s stavčno obliko $S$, produkcija ${S \Arrow a \Seq A \Seq b \Union c \Seq A \Seq d}$ ima na voljo dve desni strani.
%Če $a \in \FIRST(\FIRST(a \Seq A \Seq b) \Seq \FOLLOW(S))$ potem izberemo $a \Seq A \Seq b$, če je $a \in \FIRST(\FIRST(c \Seq A \Seq d) \Seq \FOLLOW(S))$ potem izberemo $c \Seq A \Seq d$.
%\begin{align*}
%  \FIRST(\FIRST(a \Seq A \Seq b) \Seq \FOLLOW(S)) &= \FIRST(\{a\} \Seq \{\EOF\})\\
%                                                  &= \FIRST(\{a \Seq \EOF\})\\
%                                                  &= \FIRST(a \Seq \EOF)\\
%                                                  &= \FIRST(a)\\
%                                                  &= \{a\}
%\end{align*}
%\begin{align*}
%  \FIRST(\FIRST(c \Seq A \Seq d) \Seq \FOLLOW(S)) &= \FIRST(\{c\} \Seq \{\EOF\})\\
%                                                  &= \FIRST(\{c \Seq \EOF\})\\
%                                                  &= \FIRST(c \Seq \EOF)\\
%                                                  &= \FIRST(c)\\
%                                                  &= \{c\}
%\end{align*}
%Izberemo desno stran $a \Seq A \Seq b$.
%Razpoznali smo terminal $a$.
%
%Sedaj imamo stavčno obliko $a \Seq A \Seq b$, produkcija ${A \Arrow e \Union \Null}$ ima na voljo dve desni strani.
%Če $b \in \FIRST(\FIRST(e) \Seq \FOLLOW(A))$ potem izberemo $e$, če $b \in \FIRST(\FIRST(\Null) \Seq \FOLLOW(A))$ potem izberemo $\Null$.
%\begin{align*}
%  \FIRST(\FIRST(e) \Seq \FOLLOW(A)) &= \FIRST(\{e\} \Seq \{b, d\})\\
%                                                  &= \FIRST(\{a \Seq b, a \Seq d\})\\
%                                                  &= \FIRST(a \Seq b) \cup \FIRST(a \Seq d)\\
%                                                  &= \FIRST(a) \cup \FIRST(a)\\
%                                                  &= \{a\}
%\end{align*}
%\begin{align*}
%  \FIRST(\FIRST(\Null) \Seq \FOLLOW(A)) &= \FIRST(\{\Null\} \Seq \{b, d\})\\
%                                                  &= \FIRST(\{\Null \Seq b, \Null \Seq d\})\\
%                                                  &= \FIRST(\Null \Seq b) \cup \FIRST(\Null \Seq d)\\
%                                                  &= \FIRST(b) \cup \FIRST(d)\\
%                                                  &= \{b, d\}
%\end{align*}
%Izberemo desno stran $\Null$.
%Razpoznali smo terminal $b$.
%
%Sedaj smo prišli do stavka $a \Seq b$.
%Uspelo nam je izpeljati $a \Seq b$, torej ${a \Seq b \in \Language{\text{\ref{g:follow}}}}$.
%
%V primeru, da bi nas zanimalo ali $a \Seq d \in \Language{\text{\ref{g:follow}}}$, bi se pri prejšnjem koraku zgodilo nekaj nenavadnega.
%Izbrana bi bila desna stran $\Null$, ker $d \in \FIRST(\FIRST(\Null) \Seq \FOLLOW(A))$, čeprav $a \Seq d \notin \Language{\text{\ref{g:follow}}}$.
%To je zato, ker $\FOLLOW(A)$ vsebuje simbole iz vseh možnih stavčnih oblik, kontekst se ne upošteva.
%Kljub temu pa bi bil $a \Seq d$ zavrnjen, ker se $d$ ne ujema z $b$ v izpeljanem stavku $a \Seq b$.


\subsection*{Primeri}

\printbibliography
\end{document}
